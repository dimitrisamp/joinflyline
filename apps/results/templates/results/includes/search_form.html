{% load static %}
<div class="row">
    <div class="col-12 mt-2 col-md-auto search-column-dropdown">
        <img src="{% static "images/icons/arrows_rotating.png" %}">
        <input type="text" class="drop_down_btn" readonly data-toggle="dropdown"
               aria-haspopup="true"
               aria-expanded="false" name="destinationType" id="destinationType"
               v-model="form.destinationType"/>

        <div class="dropdown-menu">
            <a class="dropdown-item drop_down_btn_item"
               @click="selectDestType('round')">
                Return
            </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item drop_down_btn_item"
               @click="selectDestType('oneway')">One
                way</a>
        </div>
    </div>
    <div class="col-12 mt-2 col-md-auto search-column-dropdown">
        <img src="{% static "images/icons/man_user.png" %}">
        <input type="text" class="drop_down_btn" readonly data-toggle="modal"
               data-target="#passengersModal"
               value="Passengers" name="noOfPassengers" id="noOfPassengers"
               v-model="form.noOfPassengers"/>
    </div>
    <div class="col-12 mt-2 col-md-auto search-column-dropdown">
        <img src="{% static "images/icons/dollar.png" %}">
        <input type="text" class="drop_down_btn" readonly data-toggle="dropdown"
               aria-haspopup="true" aria-expanded="false" name="seatTypeName"
               id="seatTypeName"
               v-model="seatTypeName"/>
        <div class="dropdown-menu">
            <a class="dropdown-item drop_down_btn_item"
               @click="selectSeatType('M')">Economy</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item drop_down_btn_item" @click="selectSeatType('W')">Premium
                Economy</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item drop_down_btn_item"
               @click="selectSeatType('C')">Business</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item drop_down_btn_item" @click="selectSeatType('F')">First
                Class</a>
        </div>
    </div>
</div>
<div class="">
    <div class="row search-row">
        <div class="col-md-3 col-xs-12 col-sm-3">
            <div class="search-item search-item-to" v-bind:class="{shadowsrch: cityFromInput.focused}" >
                <div class="input-group input-group-sm search-dropdown">
                    <span class="input-group-text search-form-input">Departure City:</span>
                    <input type="text" class="form-control search-input"
                           aria-describedby="basic-addon3" @focus="cityFromInputFocused" @blur="cityFromInputBlurred" v-model="cityFromInput.text" v-on:input="cityFromHandler">
                </div>
                <div class="dropdown-list" id="listdata" v-cloak v-bind:class="{hidden: !cityFromInput.focused && !cityFromInput.searchProgress}" >
                    <ul class="list-Sdown" v-if="cityFromInput.searchResults.length > 0">
                        <li v-for="(place, index) of cityFromInput.searchResults" v-on:click="cityFromInputChoose(index)">
                            <div class="dropdown-icon"><i class="fa fa-plane"></i></div>
                            <div class="">{( formatPlace(place) )}</div>
                        </li>
                    </ul>
                    <p v-else-if="!cityFromInput.requestProgress">Start typing city name...</p>
                    <p v-else-if="cityFromInput.requestProgress">Loading...</p>
                    <p v-else-if="!cityFromInput.requestProgress">No results for your request.</p>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-xs-12 col-sm-3">
            <div class="search-item search-item-to" v-bind:class="{shadowsrch: cityToInput.focused}" >
                <div class="input-group input-group-sm search-dropdown">
                    <span class="input-group-text search-form-input">Arrival City:</span>
                    <input type="text" class="form-control search-input"
                           aria-describedby="basic-addon3" @focus="cityToInputFocused" @blur="cityToInputBlurred" v-model="cityToInput.text" v-on:input="cityToHandler">
                </div>
                <div class="dropdown-list" id="listdata" v-cloak v-bind:class="{hidden: !cityToInput.focused && !cityToInput.searchProgress}" >
                    <ul class="list-Sdown" v-if="cityToInput.searchResults.length > 0">
                        <li v-for="(place, index) of cityToInput.searchResults" v-on:click="cityToInputChoose(index)">
                            <div class="dropdown-icon"><i class="fa fa-plane"></i></div>
                            <div class="">{( formatPlace(place) )}</div>
                        </li>
                    </ul>
                    <p v-else-if="!cityToInput.requestProgress">Start typing city name...</p>
                    <p v-else-if="cityToInput.requestProgress">Loading...</p>
                    <p v-else-if="!cityToInput.requestProgress">No results for your request.</p>
                </div>
            </div>
        </div>
        <div class="col-md-2 col-xs-12 col-sm-2">
            <div class="search-item">
                <div class="input-group input-group-sm search-dropdown">
                    <span class="input-group-text search-form-input">Departure date:</span>
                    <input type="text" class="form-control" id="departure_date" v-model="form.departure_date">
                </div>
            </div>
        </div>
        <div class="col-md-2 col-xs-12 col-sm-2">
            <div class="search-item">
                <div class="input-group input-group-sm search-dropdown">
                    <span class="input-group-text search-form-input">Return date:</span>
                    <input type="text" class="form-control" id="return_date" v-bind:disabled="form.destinationTypeId === 'oneway'" v-model="form.return_date">
                </div>
            </div>
        </div>
        <div class="col-md-2 col-xs-12 col-sm-2">
            <button class="search_btn" @click="search">Search</button>
        </div>
    </div>
</div>
