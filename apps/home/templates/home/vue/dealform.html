<div id="dealform" class="h-dealform" v-cloak>
    <div class="row">
        <div class="col-md-4 col-12 s-result-dropdown s-result-dropdown_destination-type">
            <p class="btn btn-info"
               @click="openDestinationType">
                {(destinationTypes[form.destinationTypeId])}</p>

            <div class="search-f-dropdown"
                 v-cloak
                 v-if="destinationTypeSelectProgress"
                 v-click-outside="closeDestinationType">
                <ul class="s-dropdown-list">
                    <li v-for="(dtype, dtypeId) in destinationTypes"
                        @click="selectDestinationType(dtypeId)">
                        <a href="#">{(dtype)}</a></li>
                </ul>
            </div>

        </div>
        <div class="col-md-4 col-12 s-result-dropdown s-result-dropdown_passengers">
            <p href="#" @click="openPassengersForm"
               class="btn btn-info">{( valPassengers )}
                Passenger{( valPassengers > 1?"s":""
                )}</p>

            <div class="passengers-dropdown"
                 v-cloak
                 v-if="passengerSelectProgress"
                 v-click-outside="closePassengersForm">
                <ul class="passengers-dropdown-list">
                    <li class="p-category">
                        <b>Adults</b>
                        <input type="button" value="-"
                               @click="decrement(1)"
                               class="increment">
                        <input type="text"
                               readonly="readonly"
                               v-model="form.valAdults"
                               class="value-select">
                        <input type="button" value="+"
                               @click="increment(1)"
                               class="increment"></li>

                    <li class="p-category">
                        <b>Children</b>
                        <input type="button" value="-"
                               @click="decrement(2)"
                               class="increment">
                        <input type="text"
                               readonly="readonly"
                               v-model="form.valChildren"
                               class="value-select">
                        <input type="button"
                               id="valAdultsIncrement"
                               value="+"
                               @click="increment(2)"
                               class="increment"></li>

                    <li class="p-category">
                        <b>Infants</b>
                        <input type="button" value="-"
                               @click="decrement(3)"
                               class="increment">
                        <input type="text"
                               readonly="readonly"
                               v-model="form.valInfants"
                               class="value-select">
                        <input type="button" value="+"
                               @click="increment(3)"
                               class="increment"></li>

                </ul>
            </div>

        </div>

        <div class="col-md-4 col-12 s-result-dropdown s-result-dropdown_seat-type">
            <p @click="openSeatTypeSelect"
               class="btn btn-info">
                {(seatTypes[form.seatType])}</p>

            <div class="search-f-dropdown"
                 v-cloak
                 v-if="seatTypeSelectProgress"
                 v-click-outside="closeSeatTypeSelect">
                <ul class="s-dropdown-list">
                    <li v-for="(name, type) in seatTypes"
                        @click="selectSeatType(type)">
                        <a>{( name )}</a></li>
                </ul>
            </div>

        </div>


        <!-- TODO: insert controls -->

        <div class="input-group input-group-sm search-dropdown col-md-6 col-12">
            <div class="bg-white-close-holes">
                <span class="input-group-text search-form-input">Dep</span>
                <input type="text" id="departure_date"
                       aria-describedby="basic-addon3"
                       class="form-control search-input"
                       v-model="form.departure_date"/>
            </div>
        </div>

        <div class="input-group input-group-sm search-dropdown col-md-6 col-12">
            <div class="bg-white-close-holes">
                <span class="input-group-text search-form-input">Ret</span>
                <input type="text" id="return_date"
                       aria-describedby="basic-addon3"
                       class="form-control search-input"
                       v-model="form.return_date"/>
            </div>
        </div>
        <div v-if="$mq !== 'sm'" style="width: 100%;">
            <div class="filter-field">
                <b>Filters (Optional)</b><button class="clear-filters" @click="clearFilters"><i class="fa fa-close"></i></button>
            </div>
            <div class="filter-devider"></div>
            <div class="input-group input-group-sm search-dropdown col-12">
                <div class="bg-white-close-holes">
                    <span class="input-group-text search-form-input">Airline filter</span>
                    <input type="text" class="form-control search-input"
                           @focus="openAirlinesSelect" v-model="airlinesText"
                           placeholder="Ex, American Airlines, Delta">
                </div>
                <div class="search-f-dropdown airline-f-dropdown"
                     v-if="airlinesSelectProgress"
                     v-click-outside="closeAirlinesSelect">
                    <ul class="s-dropdown-list">
                        <li v-for="airlineData in form.airlines"><label><input
                                type="checkbox" v-model="airlineData.checked">
                            <img :src="airlineIcon(airlineData.code)"/> {( airlineData.name )}<span
                                class="checkmark"></span></label></li>
                    </ul>
                </div>

            </div>

            <div class="input-group input-group-sm search-dropdown col-12">
                <div class="bg-white-close-holes">
                    <span class="input-group-text search-form-input">Stops Filter</span>
                    <input type="text" class="form-control search-input"
                           @focus="openMaxStopsSelect" v-model="maxStopsText"
                           placeholder="Ex, Nonstop, One stop">
                </div>
                <div class="search-f-dropdown stop-filder-dropdown"
                     v-if="maxStopsSelectProgress"
                     v-click-outside="closeMaxStopsSelect">
                    <ul class="s-dropdown-list">
                        <li v-for="(value, maxStops) in maxStopsFilterOptions"
                            @click="selectMaxStops(maxStops)"><a>{( value )}</a></li>
                    </ul>
                </div>
            </div>

            <div class="input-group input-group-sm search-dropdown col-12">
                <div class="bg-white-close-holes">
                    <span class="input-group-text search-form-input">Price Filter</span>
                    <input type="text" class="form-control search-input"
                           @focus="openPriceSelect" v-model="priceText">
                </div>
                <div class="search-f-dropdown price-dropdown"
                     v-show="priceSelectProgress" v-click-outside="closePriceSelect">
                    <div class="price-slider-container">
                        <vue-slider v-model="form.priceRange" :enable-cross="false"
                                    :max="3000"></vue-slider>
                    </div>
                </div>
            </div>
        </div>

        <div class="search-button col-12">
            <button type="submit" class="btn btn-info" @click="search"
                    :disabled="isFormIncomplete">
                View Flights
            </button>
        </div>

    </div>


</div>
