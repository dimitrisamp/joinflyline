<template>
  <div class="app">
    <div class="svg-container">
      <svg width="0" height="0" display="none">
        <defs>
          <symbol
            viewBox="0 0 21 21"
            id="icon-search"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
          >
            <g
              id="Page-1"
              stroke="none"
              stroke-width="1"
              fill="none"
              fill-rule="evenodd"
            >
              <g
                id="Trips"
                transform="translate(-1253.000000, -62.000000)"
                fill="#FFFFFF"
                fill-rule="nonzero"
                stroke="#FFFFFF"
                stroke-width="0.3"
              >
                <g
                  id="search-interface-symbol"
                  transform="translate(1254.000000, 63.000000)"
                >
                  <path
                    d="M20.7673556,19.8254388 L15.3542545,14.4988385 C16.7717716,12.9587471 17.6427406,10.9219527 17.6427406,8.68067374 C17.6420555,3.88616476 13.6929592,0 8.82113051,0 C3.94930179,0 0.000205546493,3.88616476 0.000205546493,8.68067374 C0.000205546493,13.4751827 3.94930179,17.3613475 8.82113051,17.3613475 C10.9260979,17.3613475 12.8567276,16.6332675 14.3732153,15.4228385 L19.8073165,20.7704388 C20.0720946,21.0312773 20.5019608,21.0312773 20.766739,20.7704388 C21.0321338,20.5096346 21.0321338,20.0862773 20.7673556,19.8254388 Z M8.82113051,16.0257749 C4.69903263,16.0257749 1.35742904,12.7372708 1.35742904,8.68067374 C1.35742904,4.62407667 4.69903263,1.33557259 8.82113051,1.33557259 C12.9432626,1.33557259 16.284832,4.62407667 16.284832,8.68067374 C16.284832,12.7372708 12.9432626,16.0257749 8.82113051,16.0257749 Z"
                    id="Shape"
                  />
                </g>
              </g>
            </g>
          </symbol>
          <symbol viewBox="0 0 24 24" id="personal_item">
            <path
              d="M20.986 16.747a4.433 4.433 0 0 1-.97 3.63A4.539 4.539 0 0 1 16.528 22H7.457a4.53 4.53 0 0 1-3.484-1.62 4.428 4.428 0 0 1-.974-3.632L4.2 10.024a1.25 1.25 0 0 1 1.233-1.02h1.11c.023 0 .09.009.11.009h10.66c.012-.001.12-.012.131-.012h1.106a1.246 1.246 0 0 1 1.232 1.023l1.203 6.723zM6.758 13.102h1.3c.12 0 .217.097.217.217v1.748a.65.65 0 1 0 1.3 0v-1.748c0-.12.097-.217.216-.217h7.366a.65.65 0 1 0 0-1.3H6.758a.65.65 0 1 0 0 1.3zm.432-4.968a.867.867 0 0 1-.866-.867C6.324 3.81 9.158 2 11.957 2c2.8 0 5.633 1.81 5.633 5.267a.867.867 0 1 1-1.733 0 3.233 3.233 0 0 0-1.173-2.63c-2.013-1.653-6.627-1.11-6.627 2.63a.867.867 0 0 1-.867.867z"
            />
          </symbol>
          <symbol viewBox="0 0 24 24" id="cabin_bag">
            <path
              d="M11.16 4.083c0-.25.167-.416.417-.416h.833c.25 0 .417.166.417.416v2.5c0 .25-.167.417-.417.417h-.833c-.25 0-.417-.167-.417-.417v-2.5zm3.75 6.25h-3.5c-.25 0-.417.167-.417.417v.833c0 .334-.25.667-.666.667-.417 0-.667-.25-.667-.667v-.833c0-.25-.167-.417-.333-.417h-.25a.657.657 0 0 1-.667-.666c0-.417.25-.667.667-.667h5.833c.333 0 .667.25.667.667a.657.657 0 0 1-.667.666zm0-3.25c-.25 0-.417-.166-.417-.416v-2.5c0-.25.167-.417.417-.417.583 0 .833-.417.833-.917S15.493 2 14.91 2H9.077c-.584 0-.834.417-.834.833 0 .417.25.834.75.834.334.083.5.25.5.5v2.416c0 .25-.166.417-.416.417h-.834C7.077 7.083 6.16 8 6.16 9.083v10c0 1 .667 1.834 1.667 2 .083 0 .166.167.166.25 0 .5.334.667.834.667s.833-.167.833-.667a.18.18 0 0 1 .167-.166h4.166a.18.18 0 0 1 .167.166c0 .5.333.667.833.667s.834-.167.834-.667c0-.083.25-.25.333-.25 1-.166 1.667-1.083 1.667-2v-10c0-1.083-.75-2-1.917-2h-1z"
            />
          </symbol>
          <symbol viewBox="0 0 24 24" id="hold_bag">
            <path
              d="M19.083 6.997C20.667 6.997 22 8.33 22 9.913v8.334c0 1.583-1.333 2.916-2.917 2.916-.25 0-.416-.166-.416-.416V7.413c0-.25.166-.416.416-.416zm-13.75.416v13.334c0 .25-.166.416-.416.416C3.333 21.163 2 19.83 2 18.247V9.913C2 8.33 3.333 6.997 4.917 6.997c.25 0 .416.166.416.416zM9.667 5.33v1.25c0 .25.25.417.5.417h3.75c.25 0 .416-.167.416-.417V5.33c0-.5-.333-.833-.833-.833h-2.917c-.5 0-.916.333-.916.833zM7 20.747V7.413c0-.25.167-.416.417-.416h.166c.25 0 .417-.167.417-.417V5.33c0-1.417 1.083-2.5 2.5-2.5h2.917c1.416 0 2.5 1.083 2.5 2.5v1.25c.083.25.25.417.416.417h.167c.333 0 .5.166.5.416v13.334c0 .25-.167.416-.417.416H7.417c-.25 0-.417-.166-.417-.416z"
            />
          </symbol>
          <symbol viewBox="0 0 24 24" id="icon-no-bag">
            <path
              d="M17.655 6.333a.9.9 0 0 1 .001 1.273l-4.103 4.108a.4.4 0 0 0 0 .566l4.103 4.109a.9.9 0 0 1 .08 1.18l-.08.092a.9.9 0 0 1-1.273 0l-4.1-4.108a.4.4 0 0 0-.567 0l-4.1 4.107a.9.9 0 1 1-1.273-1.272l4.103-4.108a.4.4 0 0 0 0-.566L6.343 7.606a.9.9 0 0 1-.08-1.18l.081-.093a.9.9 0 0 1 1.273.001l4.099 4.106a.4.4 0 0 0 .566 0l4.1-4.106a.9.9 0 0 1 1.273 0z"
            />
          </symbol>
        </defs>
      </svg>
    </div>
    <dashboard-header
      v-show="showDashboardNavigation"
      @search-complete="proceedToSearchResults"
    />
    <sidebar />
    <div class="overlay"></div>
    <main class="content-wrapper">
      <transition name="slide" mode="out-in" appear>
        <router-view />
      </transition>
    </main>
  </div>
</template>

<script>
import Vuex from "vuex";
import DashboardHeader from "../components/DashboardHeader";
import Sidebar from "../components/Sidebar";

export default {
  computed: {
    ...Vuex.mapState("dashboard", ["showDashboardNavigation"])
  },
  components: {
    DashboardHeader,
    Sidebar
  },
  methods: {
    proceedToSearchResults() {
      this.$router.push({ name: "results" });
    }
  }
};
</script>
